\chapter{Related Work}
\label{chp:relatedwork}
In the past years, many research studies have been focusing on trajectory data mining, specially in flock pattern
recognition. Laube et al. \cite{bib:remo} proposed the REMO concept, which analyzes motion attributes of entities
(speed, azimuth and location) and relate to the motion of other entities that are close to them. They also introduced
some moving patterns, such as flock, convergence, encounter, and leadership. In the end the authors went through some
data structures and algorithms that can be used in order to detect those patterns. However, only high level abstract
algorithms were presented, but neither concrete implementation nor evaluation was shown.

Gudmundsson et al. in \cite{bib:gudefficient} and \cite{bib:gudlongest} extended and formalized the flock concept
proposed by \cite{bib:remo}. They also introduced the concept that the flock pattern must contain a disk of radius $R$
in each time step that encloses all trajectories. They proposed approximation and exact algorithms for flock pattern
detection, but no performance evaluations were made and only theoretical analysis were presented, which does not show if
the algorithms are efficient or not. Later on, the same authors \cite{bib:gudlongest} extended the flock pattern
definition by adding the temporal length variable: the entities must stay together during some time interval $\delta$ to
be claimed as a flock. To this end, they presented some approximation algorithms what work on approximating the radius
$R$ of the disk used to cluster the flock, based on a defined $\epsilon$. The evaluations performed in
\cite{bib:gudlongest} varied only the $\delta$ parameter leaving all other parameters variation out of the the
experiments. Additionally, the performance results were not good, having scenarios where the algorithms took more than
1.5K seconds to analyze a dataset of 1 million entries. It is important to say that all algorithms did waste time by
analysing disks that will not form a flock pattern in the future, thus having a degradation in performance.

Vieira et al. in \cite{bib:vieira} proposed a polynomial algorithm to find flock patterns of fixed duration, based in
three parameters: minimum number of trajectories $\mu$, the disk radius $\epsilon$ and a minimum time length $\delta$.
In order to discover the centers of the cluster disks for each time step, they paired the points that had distance less
or equal to $2*\epsilon$, created two disks based in that pair and tried to cluster other points into those disks. Their
algorithm assumed that each point is sampled in a fixed time interval, assumption that does not reflect real world
datasets. Additionally, their algorithm suffered from wasting CPU cycles by processing disk candidates that are not real
potential flock candidates. The authors also proposed some filtering heuristics to optimize the processing time, but the
optimizations did not present good results, and our local tests showed that the optimizations affected the final number
of flocks found by the algorithm.

In \cite{bib:visual}, the authors propose an algorithm that mixes together BFE \cite{bib:vieira} with a "Frequent
Pattern Mining" heuristic and compare its performance against the former. They were able to show some improvement in the
processing time when varying the radius $R$ of the disk. However, despite the improvements, their results do not propose
a fair comparison: (1) BFE is an on-line algorithm and their implementation imposes an offline implementation; (2) they
filter out some trajectories based on random assumptions (e.g. trajectories with less than 10 minutes or 20 minutes)
which might benefit their algorithm and cut out possible flocks of that length; (3) they only show results varying the
disk radius and not the other parameters used by BFE.

In \cite{bib:enumeration}, the authors address the problem of Maximal Duration Flock Pattern (MFP), proposing algorithms
to enumerate all MFP in a trajectory dataset. MFP, in other words, means that the flock cannot be extended without
increasing the disk radius $R$. They propose a set of algorithms for finding MFP and prove that they can indeed
enumerate all MFP from a trajectory dataset. They also compare their algorithms with BFE from \cite{bib:vieira} and show
that their implementations outperform the later in some scenarios. However, they still waste CPU cycles by analyzing
disks that will be discarded later, by not being potential flock candidates.

The authors in \cite{bib:flockpedestrian} and \cite{bib:pedestriancanyons} presented algorithms for finding flocks using
pedestrian spatio-temporal data. The former performed a lot pre- and post-processing in the dataset (which makes not
possible to be used in real-time analysis) and neither performance nor accuracy evaluations were presented. The latter,
did not provide any performance evaluation either, only showing accuracy experiments with a tiny dataset of only 13
entities in a time span of 32 minutes.

Yu Zheng provided a comprehensive state of the art review in Trajectory Data Mining in \cite{bib:survey}. He addresses
relevant research topics, such as Trajectory data preprocessing, Trajectory data management, Uncertainty of trajectory,
Trajectory pattern mining, and Trajectory classification. He points out some public trajectory datasets that can be used
to evaluate pattern detection algorithms, like the dataset in \cite{bib:tdrive} used in this paper.

There are also some work focusing on indoor flock detection using mobile phone sensors, in which Wi-Fi signal strengths
are mapped into coordinates \cite{bib:mobile1}, or a variety of mobile phone sensors (e.g. accelerometer, magnetometer
and Wi-Fi) are used to detect flock patterns \cite{bib:mobile2}. However, those works only address flock detection in
indoor environments, not using GPS coordinates, which are not in the scope of the problem addressed by this paper.

In a broader scope, many researches were conducted in the field of motion patterns recognition and trajectory data
mining, namely (1) cluster based algorithms
\cite{bib:clusters1}\cite{bib:movingclusters}\cite{bib:clusters2}\cite{bib:clusters3}; (2) convoy pattern detection
\cite{bib:convoy}\cite{bib:flockpedestrian}\cite{bib:convoy2}\cite{bib:convoy3}; and (3) data mining in uncertain
trajectories \cite{bib:uncertain1}\cite{bib:uncertain2}\cite{bib:uncertain3}\cite{bib:uncertain4}, to name a few.

The work presented in this paper fills the gaps that were not fulfilled by the algorithms mentioned in this section:
efficient flock detection with no change in the final number of found flocks. We will also show that our implementation
is very efficient to analyze dataset in an on-line fashion and provide results in real-time. Our proposed algorithm
achieved substantial improvements in execution time and also in the number of disks that are generated in each time
step. We provide evidences by performing comparison with the state-of-the-art algorithm using both real and synthetic
datasets.
